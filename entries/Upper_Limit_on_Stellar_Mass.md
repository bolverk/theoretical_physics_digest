Let us consider a star of mass $M$ and radius $R$. The gravitational pressure is given by $P_g \approx G M^2 / R^4$ where $G$ is the gravitation constant, while the thermal pressure scales as $P_t \approx S R^{-3 \gamma}$, where $S$ is a constant and $\gamma$ is the adiabatic index. When $\gamma>4/3$ the star can reach a hydrostatic equilibrium, but when $\gamma \le 4/3$ then it either disintegrates or collapses. Massive stars are radiation driven, so their adiabatic index is very close, but slightly larger than the critical value. The difference is roughly given by the gas to total pressure ratio $\beta \approx \gamma - 4/3 \ll 1$. Classically, the smallest amount of gas pressure will suffice to stabilise the stars. However, due to general relativistic effects gravity is slightly larger than the Newtonian theory predicts, and at high enough masses this small effect overcomes the stabilising effect of the gas. The importance of GR effects can be measured using the Schwartzschild parameter $\chi = G M/c^2 R$ where $c$ is the speed of light. The threshold for stability is therefore $\beta \approx \chi$.

To find this limit, we need to determine the radius $R$. To do so, we need to assume something about the stellar structure. One useful heuristic is that the core temperature is almost mass independent, and is determined solely by the nuclear physics of Helium burning

$T_c \approx 10^8 \, \rm K$

Another useful heuristic is that the luminosity is equal to the Eddington luminosity 

$L_e \approx \frac{G M m_p c}{\sigma}$

where $m_p$ is the proton mass and $\sigma$ is the Thompson cross section. The radius is given by the blackbody emission

$L_e \approx \frac{\sigma_{SB} T_c^4 R^2}{\tau}$

where $\sigma_{SB}$ is the Stefan Boltzmann constant and $\tau \approx \frac{M \sigma}{m_p R^2}$ is the optical depth of the star. The radius is given by

$R \approx \sqrt[4]{\frac{G M^2 c}{\sigma_{SB} T_c^4}}$

The gas to total pressure ratio is given by

$\beta \approx \frac{\frac{M}{m_p} k T_c}{a T_c^4 R^3} \approx \frac{c^{3/4} \hbar^{3/4}}{G^{3/4} \sqrt{M} m_p}$

where $a \approx \sigma_{SB}/c$ is the radiation contant, and $\sigma_{SB} \approx k^4/\hbar^3 c^2$, $k$ is the Boltzmann constant and $\hbar$ is Planck's constant. The Schwartzschild parameter is

$\chi \approx \frac{G M}{R c^2} \approx \frac{G^{3/4} \sqrt{M} k T_c}{c^{11/4} \hbar^{3/4}}$

Equating the two yields the critical mass

$M_c \approx \frac{c^{7/2} \hbar^{3/2}}{G^{3/2} m_p k T_c}$

This yields about a million solar masses. On the one hand, this value is orders of magnitude larger than the most massive star ever detected (~ 100 solar masses). On the other hand, this value is close to the smallest supermassive black holes. Theoretical models predict that stars in the mass range $10^{6} M_{\odot} > M > 10^{2} M_{\odot}$ experience a different kind of instability which causes them to lose large amounts of mass whithin their lifetime, until their mass drops below some theshold sometimes called the Ledoux mass.