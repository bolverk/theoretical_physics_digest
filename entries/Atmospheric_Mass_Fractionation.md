Let us consider a rocky planet, whose core mass is $M_c$ and radius $R_c$, and with an atmosphere made up of multiple species of particles with molecular masses $m_i$. For simplicity, let us consider an isothermal atmosphere with temperature $T$. In order to remain bound to the planet, the thermal velocity of a certain species has to be lower than the escape velocity from the planet

$v_ t \approx \sqrt{\frac{k T}{m_i}} < \sqrt{\frac{G M_c}{R_c}} = v_e$

One can arrive at this inequality by comparing the gravitational potential energy to the thermal kinetic energy. The ratio between the two is called the Jeans' parameter

$\lambda_i = \frac{G M_c \mu}{k T R_c}$

A planet might form with an atmosphere that contains all kinds of atoms and molecules, but as it is illuminated by the host star, light particles might escape. In the process, however, some of the heavier particles might be entrained and dragged outside. Let us consider an atmosphere with two species: light particles with masses $m_l$ and heavy particles with masses $m_h \gg m_l$. Gravity force on the heavy particles is $f_g = \frac{G M_c m_h}{R_c^2}$. This force can be balanced by collisions with light particles. For simplicity, we will assume the same cross section $\sigma$ for light - light collisions and light - heavy collision, and that the light particles are moving at the thermal velocity. The collision rate is given by $n \sigma v_t$, where $n$ is the number density of the light elements, so the upward drag force is $f_d \approx m_l n \sigma v_t^2$. The condition for the upward drag force to overcome gravity is

$f_d > f_g \Rightarrow m_h < m_c = m_l \frac{n \sigma v_t^2}{GM_c/R_c^2}$

The critical mass of the heavy particles is often expressed in terms of surface density $g = GM_c/R_c^2$, light particle flux $F \approx n v_t$ and binary diffusion coefficient $b \approx \frac{v_t}{\sigma}$, so

$m_ c \approx \frac{n k T}{b g} F$